"use strict";var blogService={getAllPosts:function(){return app.database.ref("/posts").once("value")},getAllCategories:function(){return app.database.ref("/categories").once("value")},getPostByKey:function(e){return app.database.ref("/posts/"+e).once("value")},getPostsByCategory:function(e){var t;return t=localStorage.getItem("categories"),t=null===t?[]:JSON.parse(t),app.database.ref("/posts").orderByChild("category").equalTo(e).once("value").then(function(e){e.forEach(function(e){t.push(e.val())})}),localStorage.setItem("categories",JSON.stringify(t)),JSON.stringify(t)},getPostComments:function(e){return app.database.ref("/comments/"+e)},getLastComment:function(){return app.database.ref("/comments").orderByChild("timestamp").limitToLast(1).once("child_added")},createPost:function(e,t,a,r){console.log("USer: ",JSON.parse(localStorage.getItem("currentUser")));var o={title:e,author:JSON.parse(localStorage.getItem("currentUser")),category:t,content:a,headerImg:r};return console.log(o),firebase.database().ref().child("posts").push(o)},createComment:function(e,t){return app.database.ref().child("/comments/"+e).push(t)},createCategory:function(e,t,a){var r={title:e,description:t,headerImg:a};return console.log(r),firebase.database().ref().child("categories").push(r)}};